# Academic Agent v2.3+ - Python Dependencies
# Agent-basierte Architektur via Claude Code
#
# ⚠️ UPDATED 2026-02-27 (v2.3):
#   - Web UI: FastAPI + uvicorn + websockets (für Live Dashboard)
#   - Anthropic SDK: OPTIONAL (nur für lokale Tests, nicht für Production)
#   - Playwright: DEPRECATED (ersetzt durch Chrome MCP)
#   - Chrome MCP: Installiert via npm (nicht Python)
#
# Installation: ./setup.sh (automatisch) ODER pip install -r requirements-v2.txt
# Python Version: 3.11+
# Node.js: 18+ (für Chrome MCP Server)

# ============================================================
# Core - HTTP Clients & Optional LLM SDK
# ============================================================
httpx>=0.27.0            # Async HTTP client for API calls
aiohttp>=3.10.0          # Alternative async HTTP client
requests>=2.31.0         # Fallback sync HTTP client

# OPTIONAL (nur für lokale Tests, nicht für Production)
# anthropic>=0.40.0      # Claude API - DEPRECATED in favor of Claude Code Agents

# ============================================================
# Database - SQLite + JSON State Management
# ============================================================
sqlalchemy>=2.0.0        # ORM for SQLite database
alembic>=1.13.0          # Database migrations
pydantic>=2.10.0         # Data validation and settings
pydantic-settings>=2.1.0 # Settings from environment variables

# ============================================================
# PDF Processing - PDF Download & Text Extraction
# ============================================================
pymupdf>=1.24.0          # PDF parsing (PyMuPDF/fitz)
pdfplumber>=0.11.0       # Alternative PDF parser
pypdf>=5.3.0             # PDF manipulation

# ============================================================
# Browser Automation - DEPRECATED (use Chrome MCP instead)
# ============================================================
# playwright>=1.48.0     # DEPRECATED - replaced by Chrome MCP via npm
beautifulsoup4>=4.12.0   # HTML parsing (minimal use)
lxml>=5.3.0              # XML/HTML parser

# NOTE: Chrome MCP is installed via npm, not pip:
#   npm install -g @eddym06/custom-chrome-mcp
#   (handled automatically by setup.sh)

# ============================================================
# CLI UI - Progress Bars & User Feedback
# ============================================================
rich>=13.9.0             # Beautiful terminal output
click>=8.1.0             # CLI framework
colorama>=0.4.6          # Cross-platform colored terminal

# ============================================================
# Web UI - FastAPI Server & WebSocket (v2.3+)
# ============================================================
fastapi>=0.128.0         # Web framework for live UI
uvicorn>=0.30.0          # ASGI server
websockets>=13.0         # WebSocket support for live updates

# ============================================================
# Utilities - Retry, Rate Limiting, Caching
# ============================================================
tenacity>=9.0.0          # Retry logic with exponential backoff
ratelimit>=2.2.0         # Rate limiting for API calls (sync)
aiolimiter>=1.1.0        # Rate limiting for async API calls
cachetools>=5.3.0        # In-memory caching
python-dotenv>=1.0.0     # .env file loading
pyyaml>=6.0.1            # YAML config file loading (api_config.yaml, research_modes.yaml)

# ============================================================
# Text Processing - String Matching & NLP
# ============================================================
fuzzywuzzy>=0.18.0       # Fuzzy string matching (quote validation)
python-Levenshtein>=0.27.0  # Fast string distance (optional speedup)
nltk>=3.9.1              # Natural language processing (optional)

# ============================================================
# Testing - Unit Tests, Integration Tests, Coverage
# ============================================================
pytest>=8.3.0            # Test framework
pytest-asyncio>=0.24.0   # Async test support
pytest-cov>=6.0.0        # Coverage plugin
pytest-mock>=3.14.0      # Mocking support
coverage>=7.6.0          # Coverage measurement
faker>=33.3.0            # Test data generation

# ============================================================
# Development Tools - Type Checking, Linting, Formatting
# ============================================================
mypy>=1.14.0             # Static type checking
ruff>=0.10.0             # Fast Python linter & formatter
black>=24.10.0           # Code formatter (alternative to ruff)
isort>=5.13.0            # Import sorting

# Type Stubs for better type checking
types-pyyaml>=6.0.12     # Type hints for PyYAML
types-requests>=2.31.0   # Type hints for Requests

# ============================================================
# Logging & Monitoring - Structured Logging
# ============================================================
loguru>=0.7.3            # Better logging library
structlog>=24.4.0        # Structured logging (optional)

# ============================================================
# Optional - Advanced Features (Uncomment if needed)
# ============================================================
# openai>=1.0.0          # OpenAI API (if we want to compare)
# chromadb>=0.5.0        # Vector DB for semantic search
# langchain>=0.3.0       # LLM orchestration framework
# redis>=5.0.0           # Redis for distributed caching

# ============================================================
# Maintenance Notes (siehe WORKFLOW.md)
# ============================================================
#
# Diese Datei sollte immer up-to-date gehalten werden:
#
# 1. Neue Dependency hinzufügen:
#    - Dependency zur entsprechenden Sektion hinzufügen
#    - Kommentar mit Verwendungszweck hinzufügen
#    - Version Constraint angeben (>=)
#    - CHANGELOG.md aktualisieren
#
# 2. Dependency-Version aktualisieren:
#    - pip list --outdated (zeigt veraltete Packages)
#    - Breaking Changes in Release Notes prüfen
#    - Tests durchführen nach Update
#    - CHANGELOG.md aktualisieren
#
# 3. Dependency entfernen:
#    - Prüfen ob wirklich nicht mehr benötigt
#    - Code-Suche: grep -r "import <package>" src/
#    - CHANGELOG.md aktualisieren
#
# 4. Installation testen:
#    python -m venv .venv
#    source .venv/bin/activate  # oder: .venv\Scripts\activate (Windows)
#    pip install -r requirements-v2.txt
#    playwright install chromium
#    pytest tests/unit/  # Sollte ohne Fehler durchlaufen
#
# Siehe WORKFLOW.md Abschnitt "Dependency Management" für Details
